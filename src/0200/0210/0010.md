### 跨域问题有哪些处理方式

- 跨域解决方案
  - 通过 jsonp 跨域
  - 跨域资源共享（CORS）
  - nodejs 中间件代理跨域
  - nginx 反向代理中设置 proxycookiedomain
  - H5 PostMessage：https://www.cnblogs.com/dolphinx/p/3464056.html
  - websocket
  - 本地 web 服务（也是nodejs）或者 cdn

1. 通过 jsonp 跨域

只能是 get 请求

JSONP 是通过动态`<script>`元素使用的，可以为`src`属性指定一个跨域 URL，`<script>`有能力从其他域加载资源。

```html
<script>
  var script = document.createElement("script");
  script.type = "text/javascript";

  // 传参一个回调函数名给后端，方便后端返回时执行这个在前端定义的回调函数
  script.src =
    "http://www.daxihong.com:8080/login?user=admin&callback=jsonCallback";
  document.head.appendChild(script);

  // 回调执行函数
  function jsonCallback(res) {
    alert(JSON.stringify(res));
  }
</script>
```

```js
// 服务器端返回如下(返回即执行全局函数)
jsonCallback({ status: 0, user: "admin" });
```

2. 跨域资源共享（CORS）

整个 CORS 通信过程，都是浏览器自动完成，不需要用户参与，只要服务器实现了 CORS 接口，就可以跨源通信；

两种方式：简单请求，非简单请求

非简单请求多一个预检请求的过程

JSONP 只支持 GET 请求，CORS 支持所有类型的 HTTP 请求。JSONP 的优势在于支持老式浏览器，以及可以向不支持 CORS 的网站请求数据。

https://www.ruanyifeng.com/blog/2016/04/cors.html

```js
const path = require('path')
const Koa = require('koa')
const koaStatic = require('koa-static')
const bodyParser = require('koa-bodyparser')
const router = require('./router')
const cors = require('koa2-cors')
const app = new Koa()
const port = 9871

...
// 处理cors
app.use(cors({
  origin: function (ctx) {
    return 'http://localhost:9099'
  },
  credentials: true,
  allowMethods: ['GET', 'POST', 'DELETE'],
  allowHeaders: ['t', 'Content-Type']
}))
// 路由
app.use(router.routes()).use(router.allowedMethods())
// 监听端口
...
```

3. nodejs 中间件代理跨域

```js
module.exports = {
  entry: {},
  module: {},
  ...
  devServer: {
      historyApiFallback: true,
      proxy: [{
          context: '/login',
          target: 'http://www.daxihong.com:8080',  // 代理跨域目标接口
          changeOrigin: true,
          secure: false,  // 当代理某些https服务报错时用
          cookieDomainRewrite: 'www.daxihong.com'  // 可以为false，表示不修改
      }],
      noInfo: true
  }
}
```

4. nginx 反向代理中设置

和使用 node 中间件跨域原理相似。前端和后端都不需要写额外的代码来处理， 只需要配置一下 Ngnix

```js
server{
  # 监听9099端口
  listen 9099;
  # 域名是localhost
  server_name localhost;
  #凡是localhost:9099/api这个样子的，都转发到真正的服务端地址http://localhost:9871
  location ^~ /api {
      proxy_pass http://localhost:9871;
  }
}
```

### ajax请求失败后重连

https://blog.csdn.net/qq_42535651/article/details/108916204
### 文件上传（大文件呢？）怎么做

大文件怎样实现快速上传？：https://mp.weixin.qq.com/s/bO2KdRqopCXAu2Qxgnu_yA

面试官：大文件上传如何做断点续传？：https://mp.weixin.qq.com/s/5KPCzcX5T0UbR4_P1pd4NQ

### 如何实现单点登录？

https://mp.weixin.qq.com/s/8qJt8i_DSXY5zDh2ir_2gw

### react长列表性能优化

https://www.cnblogs.com/xm0328/p/14021993.html
### 首屏渲染白屏时间如何优化

https://github.com/BetaSu/fe-hunter/issues/4#

### OAuth2

http://www.ruanyifeng.com/blog/2019/04/oauth-grant-types.html

### 单点登陆

https://mp.weixin.qq.com/s/8qJt8i_DSXY5zDh2ir_2gw


### 简历怎么写

https://juejin.cn/post/6921890174842454023


## 如何准备述职报告

https://github.com/BetaSu/fe-hunter/issues/16#issuecomment-1078750935